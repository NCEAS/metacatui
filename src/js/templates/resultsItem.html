<% if(MetacatUI.appModel.get("displayRepoLogosInSearchResults") ){ %>
  <% if(memberNode && memberNode.logo && profileURL){ %>
  	<a href="<%=profileURL%>">
      <img src="<%=memberNode.logo%>" class="logo <%=memberNode.shortIdentifier%>" title="From the <%=memberNode.name%> repository" />
    </a>
  <% } %>

  <% if(typeof logo == "string"){ %>
  	<a href="<%=viewURL%>"><img src="<%=logo%>" class="logo" /></a>
  <% } %>
<% } %>

<div class="citation"></div>
<div class="clear"></div>
<div class="info-icons  ">
    <% if( MetacatUI.appModel.get("displayDownloadButtonInSearchResults") ){ %>
      <% if ((resourceMap && (typeof resourceMap != "undefined")) && (resourceMap.length > 1)) { %>
        <a class="download disabled-download" title="There may be multiple datasets associated with this metadata record. View the metadata page to choose a dataset to download."><i class="icon icon-cloud-download"></i></a>
  	  <%	 }
  		else if(resourceMap && (typeof resourceMap != "undefined")){
  			print('<a class="download pointer icons" download title="Click to Download" href="', MetacatUI.appModel.get('packageServiceUrl'), encodeURIComponent(resourceMap), '" title="Click to Download"><i class="icon icon-cloud-download "></i></a>');
  		}
      else{ %>
        <a class="download pointer icons" download title="Click to download" href="<%=(MetacatUI.appModel.get('objectServiceUrl') + encodeURIComponent(id))%>"><i class="icon icon-cloud-download"></i></a>
      <% } %>
    <% } %>

    <% if(typeof abstract != "undefined"){  %>
		  <div class="abstract icons"><i class="icon icon-info-sign popover-this abstract " data-delay="1500"></i></div>
	  <% } %>
    <div class="resource-map icons tooltip-this" data-title="<%=dataFilesMessage%>" data-placement="top" data-trigger="hover focus" data-delay="800">
	  <%	if (numDataFiles > 0) {
        <!-- img/data-table.svg -->
        print('<svg class="icon" fill="inherit" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1536 1792" fill="inherit"><path d="M1468 380c19 19 35 44 48 76s20 61 20 88v1152c0 27-9 49-28 68a93 93 0 01-68 28H96c-27 0-49-9-68-28a93 93 0 01-28-68V96c0-27 9-49 28-68S69 0 96 0h896c27 0 56 7 88 20s57 29 76 48l312 312zm-444-244v376h376c-7-19-14-33-22-41l-313-313c-8-8-22-15-41-22zm384 1528V640H992c-27 0-49-9-68-28a93 93 0 01-28-68V128H128v1536h1280z"/><path d="M565 1491v-121c0-6-2-11-6-15s-9-6-14-6H341c-6 0-10 2-14 6s-6 9-6 15v121c0 6 2 11 6 15s8 6 14 6h204c5 0 10-2 14-6s6-9 6-15zm0-243v-122c0-6-2-11-6-15s-9-6-14-6H341c-6 0-10 2-14 6s-6 9-6 15v122c0 6 2 10 6 14s8 6 14 6h204c5 0 10-2 14-6s6-8 6-14zm325 243v-121c0-6-2-11-6-15s-8-6-14-6H666c-6 0-10 2-14 6s-6 9-6 15v121c0 6 2 11 6 15s8 6 14 6h204c6 0 10-2 14-6s6-9 6-15zm-325-487V882c0-6-2-11-6-15s-9-5-14-5H341c-6 0-10 1-14 5s-6 9-6 15v122c0 6 2 11 6 14 4 4 8 6 14 6h204c5 0 10-2 14-6 4-3 6-8 6-14zm325 244v-122c0-6-2-11-6-15s-8-6-14-6H666c-6 0-10 2-14 6s-6 9-6 15v122c0 6 2 10 6 14s8 6 14 6h204c6 0 10-2 14-6s6-8 6-14zm325 243v-121c0-6-2-11-6-15s-8-6-14-6H992c-6 0-11 2-15 6s-6 9-6 15v121c0 6 2 11 6 15s9 6 15 6h203c6 0 10-2 14-6s6-9 6-15zm-325-487V882c0-6-2-11-6-15s-8-5-14-5H666c-6 0-10 1-14 5s-6 9-6 15v122c0 6 2 11 6 14 4 4 8 6 14 6h204c6 0 10-2 14-6 4-3 6-8 6-14zm325 244v-122c0-6-2-11-6-15s-8-6-14-6H992c-6 0-11 2-15 6s-6 9-6 15v122c0 6 2 10 6 14s9 6 15 6h203c6 0 10-2 14-6s6-8 6-14zm0-244V882c0-6-2-11-6-15s-8-5-14-5H992c-6 0-11 1-15 5s-6 9-6 15v122c0 6 2 11 6 14 4 4 9 6 15 6h203c6 0 10-2 14-6 4-3 6-8 6-14zm81-203v690c0 28-10 52-30 72a98 98 0 01-71 30H341c-28 0-52-10-71-30a98 98 0 01-30-72V801c0-28 10-52 30-72 19-20 43-30 71-30h854c28 0 52 10 71 30 20 20 30 44 30 72z"/></svg>');
 	  } %>
    </div>

    <% if(typeof MetacatUI.mapKey == "string" && MetacatUI.mapKey.length){ %>
      <div class="on-map icons  ">
  		<% if (typeof geohash_9 !== "undefined" && geohash_9 !== null){
          	print('<i class="icon icon-map-marker on-map open-marker " data-id="'+id+'" data-geohash="' + geohash_9  + '" title="This data set has ' + geohash_9.length + ' geographic regions on the map"></i>');
          }
          else{
             print('<i class="icon icon-map-marker inactive "></i>');
          }
           %>
      </div>
    <% } %>

    <% if(hasProv){
  			print('<div class="icons provenance active ">');
  			print('<i class="icon icon-code-fork active " title="This dataset contains provenance metadata."></i>');
  		}
  		else{
  		    print('<div class="icons provenance inactive ">');
  			print('<i class="icon icon-code-fork inactive "></i>');
  		}
  	%>
  	</div>

		<% if (showAnnotationIndicator && hasAnnotations) { %>
			<div class="icons annotations ">
				<span class="icon-stack annotation-icon"><i class="icon icon-certificate icon-stack-base"></i><i class="icon icon-ok" title="This dataset includes annotations."></i></span>
			</div>
		<% } %>

		<div class="catalog-metrics icons">
	      <span class='catalog-stat resultItem-CitationCount'>
	        <i class='icon catalog-metric-icon'></i>
	      </span>
	      <span class='catalog-stat resultItem-DownloadCount'>
	        <i class='icon catalog-metric-icon'></i>
	      </span>
	      <span class='catalog-stat resultItem-ViewCount'>
	        <i class='icon catalog-metric-icon'></i>
	      </span>
	    </div>

    <% if(!isPublic){ %>
      <div class="private icons "><i class="icon icon-lock private " title="This is private content."></i></div>
    <% } %>
    <div class="clear"></div>
  </div><!-- END info-icons -->
