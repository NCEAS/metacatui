<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>MetacatUI Dev Docs: Class: MetadataView</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
    <link type="text/css" rel="stylesheet" href="style.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: MetadataView</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>MetadataView<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description">A human-readable view of a science metadata file</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="MetadataView"><span class="type-signature"></span>new MetadataView<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line47">line 47</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    
        <h3 class="subsection-title">Extends</h3>

        


    <ul>
        <li>Backbone.View</li>
    </ul>


    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="createWholeTaleButton"><span class="type-signature"></span>createWholeTaleButton<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates a button which the user can click to launch the package in Whole Tale
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line1273">line 1273</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="findEntityDetailsContainer"><span class="type-signature"></span>findEntityDetailsContainer<span class="signature">(model, el<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Element}</span></h4>
    

    



<div class="description">
    Finds the element in the rendered metadata that describes the given data entity.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="DataONEObject.html">DataONEObject</a></span>
|

<span class="param-type"><a href="SolrResult.html">SolrResult</a></span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Either a model that represents the data object or the identifier of the data object</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>el</code></td>
            

            <td class="type">
            
                
<span class="param-type">Element</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">The DOM element to exclusivly search inside.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line1820">line 1820</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    - The DOM element that describbbes the given data entity.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Element</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="generateGeoJSONPoint"><span class="type-signature"></span>generateGeoJSONPoint<span class="signature">(north, east)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a GeoJSON Point object
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>north</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">North bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>east</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">East bounding coordinate

Example:
{
 "type": "Point",
 "coordinates": [
     -105.01621,
     39.57422
]}</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2824">line 2824</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="generateGeoJSONPolygon"><span class="type-signature"></span>generateGeoJSONPolygon<span class="signature">(north, east, south, west)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a GeoJSON Polygon object from
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>north</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">North bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>east</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">East bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>south</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">South bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>west</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">West bounding coordinate


Example:

{
  "type": "Polygon",
  "coordinates": [[
    [ 100, 0 ],
    [ 101, 0 ],
    [ 101, 1 ],
    [ 100, 1 ],
    [ 100, 0 ]
]}</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2854">line 2854</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="generateGeoJSONString"><span class="type-signature"></span>generateGeoJSONString<span class="signature">(north, east, south, west)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Creates a (hopefully) valid geoJSON string from the a set of bounding
coordinates from the Solr index (north, east, south, west).

This function produces either a GeoJSON Point or Polygon depending on
whether the north and south bounding coordinates are the same.

Part of the reason for factoring this out, in addition to code
organization issues, is that the GeoJSON spec requires us to modify
the raw result from Solr when the coverage crosses -180W which is common
for datasets that cross the Pacific Ocean. In this case, We need to
convert the east bounding coordinate from degrees west to degrees east.

e.g., if the east bounding coordinate is 120 W and west bounding
coordinate is 140 E, geoJSON requires we specify 140 E as 220
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>north</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">North bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>east</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">East bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>south</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">South bounding coordinate</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>west</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">West bounding coordinate</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2801">line 2801</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="generateJSONLD"><span class="type-signature"></span>generateJSONLD<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate Schema.org-compliant JSONLD for the model bound to the view into
 the head tag of the page by `insertJSONLD`.

Note: `insertJSONLD` should be called to do the actual inserting into the
DOM.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2627">line 2627</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="generateSchemaOrgGeo"><span class="type-signature"></span>generateSchemaOrgGeo<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a Schema.org/Place/geo from bounding coordinates

Either generates a GeoCoordinates (when the north and east coords are
the same) or a GeoShape otherwise.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2765">line 2765</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getAuthorText"><span class="type-signature"></span>getAuthorText<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a string appropriate to go into the author/creator portion of
a dataset citation from the value stored in the underlying model's
origin field.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2555">line 2555</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getDatePublishedText"><span class="type-signature"></span>getDatePublishedText<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a string appropriate to be used as the publication date in a
dataset citation.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2610">line 2610</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getPublisherText"><span class="type-signature"></span>getPublisherText<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Generate a string appropriate to be used in the publisher portion of a
dataset citation. This method falls back to the node ID when the proper
node name cannot be fetched from the app's NodeModel instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2595">line 2595</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="insertCitationMetaTags"><span class="type-signature"></span>insertCitationMetaTags<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Insert citation information as meta tags into the head of the page

Currently supports Highwire Press style tags (citation_) which is
supposedly what Google (Scholar), Mendeley, and Zotero support.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2879">line 2879</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="insertJSONLD"><span class="type-signature"></span>insertJSONLD<span class="signature">(json)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Insert Schema.org-compliant JSONLD for the model bound to the view into
the head tag of the page (at the end).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>json</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">JSON-LD to insert into the page

Some notes:

- Checks if the JSONLD already exists from the previous data view
- If not create a new script tag and append otherwise replace the text
  for the script</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2746">line 2746</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="previewData"><span class="type-signature"></span>previewData<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    When the "Metadata" button in the table is clicked while we are on the Metadata view,
we want to scroll to the anchor tag of this data object within the page instead of navigating
to the metadata page again, which refreshes the page and re-renders (more loading time)
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2435">line 2435</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="scrollToFragment"><span class="type-signature"></span>scrollToFragment<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Try to scroll to the section on a page describing the identifier in the
fragment/hash portion of the current page.

This function depends on there being an `id` dataset attribute on an
element on the page set to an XML-safe version of the value in the
fragment/hash. Used to provide direct links to sub-resources on a page.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2468">line 2468</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setUpAnnotator"><span class="type-signature"></span>setUpAnnotator<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    If the annotator feature is enabled, this function renders an AnnotatorView.
The Annotator feature is experiemental and unsupported, so this should only be enabled by advanced users
</div>













<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="src_js_views_MetadataView.js.html">src/js/views/MetadataView.js</a>, <a href="src_js_views_MetadataView.js.html#line2415">line 2415</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="AppConfig.html">AppConfig</a></li><li><a href="MetacatUI.html">MetacatUI</a></li></ul><h3>Classes</h3><ul><li><a href="AccessPolicy.html">AccessPolicy</a></li><li><a href="AccessPolicyView.html">AccessPolicyView</a></li><li><a href="AccessRule.html">AccessRule</a></li><li><a href="AppModel.html">AppModel</a></li><li><a href="AppView.html">AppView</a></li><li><a href="BooleanFilter.html">BooleanFilter</a></li><li><a href="ChoiceFilter.html">ChoiceFilter</a></li><li><a href="Citations.html">Citations</a></li><li><a href="CollectionModel.html">CollectionModel</a></li><li><a href="ColorPaletteView.html">ColorPaletteView</a></li><li><a href="DataCatalogView_drawTiles-TextOverlay.html">TextOverlay</a></li><li><a href="DataCatalogViewWithFilters.html">DataCatalogViewWithFilters</a></li><li><a href="DataItemView.html">DataItemView</a></li><li><a href="DataONEObject.html">DataONEObject</a></li><li><a href="DataPackage.html">DataPackage</a></li><li><a href="DateFilter.html">DateFilter</a></li><li><a href="DraftsView.html">DraftsView</a></li><li><a href="EditCollectionView.html">EditCollectionView</a></li><li><a href="EditorView.html">EditorView</a></li><li><a href="EML211.html">EML211</a></li><li><a href="EML211EditorView.html">EML211EditorView</a></li><li><a href="EMLEntity.html">EMLEntity</a></li><li><a href="EMLEntityView.html">EMLEntityView</a></li><li><a href="EMLGeoCoverage.html">EMLGeoCoverage</a></li><li><a href="EMlGeoCoverageView.html">EMlGeoCoverageView</a></li><li><a href="EMLNonNumericDomain.html">EMLNonNumericDomain</a></li><li><a href="EMLNumericDomain.html">EMLNumericDomain</a></li><li><a href="EMLPartyView.html">EMLPartyView</a></li><li><a href="EMLTemporalCoverage.html">EMLTemporalCoverage</a></li><li><a href="EMLView.html">EMLView</a></li><li><a href="Filter.html">Filter</a></li><li><a href="FilterGroup.html">FilterGroup</a></li><li><a href="FilterGroupsView.html">FilterGroupsView</a></li><li><a href="Filters.html">Filters</a></li><li><a href="ImageUploaderView.html">ImageUploaderView</a></li><li><a href="LookupModel.html">LookupModel</a></li><li><a href="MetadataView.html">MetadataView</a></li><li><a href="NavbarView.html">NavbarView</a></li><li><a href="NumericFilter.html">NumericFilter</a></li><li><a href="ObjectFormats.html">ObjectFormats</a></li><li><a href="PortalDataView.html">PortalDataView</a></li><li><a href="PortalEditorView.html">PortalEditorView</a></li><li><a href="PortalListView.html">PortalListView</a></li><li><a href="PortalMembersView.html">PortalMembersView</a></li><li><a href="PortalModel.html">PortalModel</a></li><li><a href="PortalSectionView.html">PortalSectionView</a></li><li><a href="PortalView.html">PortalView</a></li><li><a href="PortEditorDataView.html">PortEditorDataView</a></li><li><a href="PortEditorImageView.html">PortEditorImageView</a></li><li><a href="PortEditorLogosView.html">PortEditorLogosView</a></li><li><a href="PortEditorMdSectionView.html">PortEditorMdSectionView</a></li><li><a href="PortEditorSectionsView.html">PortEditorSectionsView</a></li><li><a href="PortEditorSectionView.html">PortEditorSectionView</a></li><li><a href="PortEditorSettingsView.html">PortEditorSettingsView</a></li><li><a href="QualityReport.html">QualityReport</a></li><li><a href="Search.html">Search</a></li><li><a href="SolrResultList.html">SolrResultList</a></li><li><a href="SpatialFilter.html">SpatialFilter</a></li><li><a href="Stats.html">Stats</a></li><li><a href="ToggleFilter.html">ToggleFilter</a></li><li><a href="UIRouter.html">UIRouter</a></li><li><a href="UserView.html">UserView</a></li></ul><h3>Global</h3><ul><li><a href="global.html#appConfigPath">appConfigPath</a></li><li><a href="global.html#generateId">generateId</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Jun 16 2020 12:13:43 GMT-0400 (Eastern Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>